# テストカバー範囲

## 1. 目的
本ドキュメントは、Desktop Asset Manager におけるテストのカバー範囲を整理し、どの機能・層が検証対象になっているかを明確化します。

## 2. 対象範囲
- UI（Qt）
- サービス層（AssetService／ConfigService）
- リポジトリ層（SQLite 連携）
- DB 初期化・シード

## 3. 主要テスト対象とカバー内容
### 3.1 サービス層
- デバイス／ライセンスの作成・一覧
- 構成の作成・名称変更
- 構成への割り当て／解除
- 使用中制約（多重割り当て禁止）

### 3.2 DB 初期化・シード
- init_db 実行でのテーブル作成
- 追加カラム（ライセンス番号、作成日／更新日）の存在と初期値
- サンプルデータの投入

### 3.3 UI（Qt）
- 構成カード生成
- 整列ソート（構成番号・作成日・更新日）
- フィルタ／検索挙動
- 既定ソート（No 降順）
- 画面内のテーブル列幅設定

## 4. テストファイル対応表
| テストファイル | 主なカバー範囲 |
|---|---|
| tests/test_services_spec.py | サービス層の作成・割り当て・移動・制約 |
| tests/test_detail_specs.py | 仕様詳細（ライセンス移動・UI状態保存） |
| tests/test_db_smoke.py | DB 初期化・シード・カラム |
| tests/test_ui_spec.py | UI 表示・整列・フィルタ・ソート |
| tests/test_app_startup.py | 起動スモーク |
| tests/test_imports.py | 依存関係の import 検証 |

## 5. カバー範囲外（現時点）
- 実機 UI 操作の手動テスト手順
- パフォーマンス／ストレステスト
- OS 依存 UI 互換性の詳細検証

## 6. 今後の拡張候補
- 追加の UI シナリオ（ドラッグ禁止の詳細検証など）
- ログ出力内容の自動検証
- エラーメッセージのローカライズ検証
